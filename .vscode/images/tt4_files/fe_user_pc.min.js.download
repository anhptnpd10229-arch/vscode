function get_location_base_url(){var e=window.location.href.split("/");return e[0]+"//"+e[2]}function send_ga_gtag(){}function user_get_submit_domain(){return void 0!==window.location.hostname&&["test.24h.com.vn","beta.24h.com.vn"].includes(window.location.hostname)?window.location.origin:"https://www.24h.com.vn"}function user_get_cookie_domain(){return void 0!==window.location.hostname&&["test.24h.com.vn","beta.24h.com.vn"].includes(window.location.hostname)?window.location.hostname:"24h.com.vn"}function user_show_login_guide(){return!!document.getElementById("header-24h-login-guide")&&("1"!=getCookie("userIsCloseLoginGuide")&&void document.getElementById("header-24h-login-guide").classList.remove("d-none"))}function user_hide_login_guide(){setCookie("userIsCloseLoginGuide","1",.5,"/",user_get_cookie_domain(),""),document.getElementById("header-24h-login-guide").classList.add("d-none")}function user_check_login_status(o,e){var t;if(o=void 0!==o&&o,e="string"!=typeof e?"":e.trim(),getCookie("userLoginData"))return o&&""==e||(e={only_check:o?1:0,callback:e},t=get_location_base_url(),$.ajax({url:t+"/ajax/user/user_check_login_status",type:"POST",data:e,success:function(e){if("string"==typeof e){if(!document.getElementById("header-24h-login-ajax")){let e=document.createElement("div");e.id="header-24h-login-ajax",e.className="d-none",document.getElementsByTagName("body")[0].appendChild(e)}$("#header-24h-login-ajax").html(e)}}})),!0;{o||(user_show_login_guide(),user_google_one_tap__show());let e=parseInt(getCookie("userClearSessionTime000"));return e=isNaN(e)?0:e,0<e&&36e5<Date.now()-e&&(t=get_location_base_url(),$.ajax({url:t+"/ajax/user/logout/20250410000",type:"POST",success:function(e){setCookie("userClearSessionTime000",Date.now(),8760,"/",user_get_cookie_domain(),"",!0)}})),!1}}function user_show_info(e){return!!document.getElementById("header-24h-login-cont")&&(!!e&&("undefined"==typeof userLoginHtml&&(userLoginHtml=document.getElementById("header-24h-login-cont").innerHTML),void(document.getElementById("header-24h-login-cont").innerHTML=e)))}function user_show_login_popup(e){if(!document.getElementById("div_show_ajax_user_login")){let e=document.createElement("div");e.id="div_show_ajax_user_login",document.getElementsByTagName("body")[0].appendChild(e)}document.getElementById("div_show_ajax_user_login").classList.remove("d-none");var o={callback:e="string"!=typeof e?"":e.trim()},e=get_location_base_url();$.ajax({url:e+"/ajax/user/index/1/0/0",type:"POST",data:o,success:function(e){"string"==typeof e&&$("#div_show_ajax_user_login").html(e)}})}function user_hide_login_popup(){document.getElementById("div_show_ajax_user_login")&&(document.getElementById("div_show_ajax_user_login").classList.add("d-none"),"function"==typeof user_run_after_hide_login_popup&&user_run_after_hide_login_popup())}var user_google_one_tap__loading=!1,user_google_one_tap__retry_count=0;const user_google_one_tap__max_retries=3,user_google_one_tap__retry_delay=2e3;function user_google_one_tap__show(){if("undefined"==typeof FAST_LOGIN_GOOGLE_CLIENT_ID||""==FAST_LOGIN_GOOGLE_CLIENT_ID)return-1;if("undefined"!=typeof google&&google&&google.accounts&&google.accounts.id)return user_google_one_tap__prompt(),1;{if(user_google_one_tap__loading)return-1;user_google_one_tap__loading=!0;const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.onload=function(){user_google_one_tap__loading=!1,google.accounts.id.initialize({client_id:atob(FAST_LOGIN_GOOGLE_CLIENT_ID),callback:user_google_one_tap__callback,auto_select:!1,cancel_on_tap_outside:!0}),user_google_one_tap__prompt()},e.onerror=function(){++user_google_one_tap__retry_count<user_google_one_tap__max_retries?(console.error("Tải Google Identity Services SDK lần "+user_google_one_tap__retry_count+" thất bại."),setTimeout(function(){return user_check_login_status(!0,"")?(user_google_one_tap__loading=!1,void(user_google_one_tap__retry_count=0)):void user_google_one_tap__show()},user_google_one_tap__retry_delay)):(user_google_one_tap__loading=!1,user_google_one_tap__retry_count=0),console.error("Không thể tải Google Identity Services SDK.")},document.head.appendChild(e),0}}function user_google_one_tap__prompt(){if("undefined"==typeof google||!google||!google.accounts||!google.accounts.id)return!1;google.accounts.id.prompt(e=>{e.isNotDisplayed()?console.log("user_google_one_tap__prompt","isNotDisplayed",e.getNotDisplayedReason()):e.isSkippedMoment()?console.log("user_google_one_tap__prompt","isSkippedMoment",e.getSkippedReason()):e.isDismissedMoment()&&console.log("user_google_one_tap__prompt","isDismissedMoment",e.getDismissedReason())})}function user_google_one_tap__callback(e){if("object"!=typeof e||"string"!=typeof e.credential)return!1;var n={state:btoa(Date.now()),code:e.credential,clientId_ga4:"undefined"!=typeof clientId_ga4&&""!=clientId_ga4?clientId_ga4:""},e=get_location_base_url();$.ajax({url:e+"/ajax/user/google_one_tap__callback?v_device_global=pc",type:"POST",data:n,success:function(e){var o={};if("object"==typeof e)o=e;else if("string"==typeof e)try{o=JSON.parse(e)}catch(e){}0!=("object"==typeof o?Object.keys(o).length:0)?(e={web_type:"24h-user-login",action:void 0!==o.action?o.action:"",params:void 0!==o.params?o.params:{}},e=JSON.stringify(e),window.postMessage(e,"*")):console.log("user_google_one_tap__callback","Lỗi không xác định",n)},error:function(e,o,t){console.log("user_google_one_tap__callback","Lỗi ajax",n,e,o,t)}})}function user_show_login_submenu(){var e,o=document.getElementById("header-24h-login-submenu");o&&(o.classList.contains("show")?user_hide_login_submenu():(void 0!==(e=o.getAttribute("trigger-outside-click"))&&1==e||(o.setAttribute("trigger-outside-click",1),document.getElementsByTagName("body")[0].addEventListener("mousedown",function(e){e.target&&(e.target.closest(".header-24h-login")||user_hide_login_submenu())})),o.classList.add("show"),o=get_location_base_url(),$.ajax({url:o+"/ajax/user/user_submenu__header",type:"POST",success:function(e){"string"==typeof e&&$("#header-24h-login-submenu").html(e)}})))}function user_hide_login_submenu(){var e=document.getElementById("header-24h-login-submenu");e&&e.classList.remove("show")}function user_run_after_login(e){var o;"function"==typeof user_update_news_submit_queue&&user_update_news_submit_queue(),"function"==typeof user_check_news_saved&&user_check_news_saved(),"function"==typeof user_run_after_login__by_page&&user_run_after_login__by_page(),"object"!=typeof e||"string"!=typeof e.userLoginCallback||""!=(o=e.userLoginCallback.trim())&&"function"==typeof window[o]&&(e="object"==typeof e.callback_userLoginData?e.callback_userLoginData:{},window[o](e))}function user_logout(){var e=get_location_base_url();$.ajax({url:e+"/ajax/user/logout/20250410000",type:"POST",success:function(e){setCookie("userLoginData","",.1,"/",user_get_cookie_domain(),"",!0),setCookie("userIsCloseLoginGuide","",.1,"/",user_get_cookie_domain(),""),setCookie("userClearSessionTime000",Date.now(),8760,"/",user_get_cookie_domain(),"",!0),user_hide_login_submenu(),"undefined"!=typeof userLoginHtml?(document.getElementById("header-24h-login-cont").innerHTML=userLoginHtml,"function"==typeof user_remove_news_saved_sign&&user_remove_news_saved_sign(),user_check_login_status(),"function"==typeof user_run_after_logout__by_page&&user_run_after_logout__by_page()):location.reload()}})}function user_show_login_error(e){document.getElementById("div_show_ajax_user_login")&&0!=document.getElementsByClassName("box-login-error").length&&(document.getElementsByClassName("box-login-error")[0].textContent=e)}function user_show_login_window(o,e,t,n){if(""==o)return!1;try{var i=new URL(o)}catch(e){return!1}if(!["/ajax/user/google_login","/ajax/user/facebook_login","/ajax/user/zalo_login"].some(e=>i.pathname.startsWith(e)))return!1;if("undefined"!=typeof clientId_ga4&&""!=clientId_ga4){let e=new URLSearchParams(i.search);e.set("clientId_ga4",clientId_ga4),i.search=e.toString(),o=i.toString()}var s=(window.screen.width-t)/2,_=(window.screen.height-n)/2;return window.open(o,e,"status=no,height="+n+",width="+t+",resizable=yes,left="+s+",top="+_+",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no")}function user_login_popup_send_back_message(e,o){var t={web_type:"24h-user-login",action:e,params:o},t=JSON.stringify(t);if(void 0!==window.opener&&window.opener)window.opener.postMessage(t,"*");else{var n=!1;if("undefined"!=typeof Storage)try{localStorage.setItem("userSendbackAfterLogin",t),n=!0}catch(e){}n||setCookie("userReloadAfterLogin","reload-after-login",.5,"/",user_get_cookie_domain(),"",!0)}}function user_message_handle(e){if(["https://24h.com.vn","https://www.24h.com.vn","https://kpt.24h.com.vn","https://beta.24h.com.vn","https://test.24h.com.vn"].includes(e.origin)&&e.data&&"string"==typeof e.data){try{var o=JSON.parse(e.data)}catch(e){return}if(o.action&&"string"==typeof o.action&&o.web_type&&"24h-user-login"==o.web_type){if("string"==typeof o.params)try{o.params=JSON.parse(o.params)}catch(e){console.log("JSON.parse --\x3e error",e,o.params),o.params=[]}void 0===o.params&&(o.params=[]);var t=o.action.split(",");for(let e=0;e<t.length;e++)switch(t[e]){case"show_login_error":user_show_login_error(o.params.message);break;case"show_user_info":if(void 0===o.params.userLoginData||""==o.params.userLoginData||void 0===o.params.userInfoHtml||""==o.params.userInfoHtml)break;var n=void 0!==o.params.session_hour?parseFloat(o.params.session_hour):1;(isNaN(n)||n<=0)&&(n=1),setCookie("userLoginData",JSON.stringify(o.params.userLoginData),n,"/",user_get_cookie_domain(),"",!0),setCookie("userClearSessionTime000",Date.now()-36e5,8760,"/",user_get_cookie_domain(),"",!0),user_show_info(atob(o.params.userInfoHtml));break;case"hide_login_popup":user_hide_login_popup();break;case"user_run_after_login":user_run_after_login(o.params);break;case"user_show_popup_social_link_result":"function"==typeof user_show_popup_social_link_result&&user_show_popup_social_link_result(o.params)}}}}function user_create_message_listener(){window.addEventListener?addEventListener("message",user_message_handle,!1):attachEvent("onmessage",user_message_handle)}function user_focus_handle(){if(!document.getElementById("div_show_ajax_user_login")||document.getElementById("div_show_ajax_user_login").classList.contains("d-none"))return!1;if("undefined"!=typeof Storage)try{var e=localStorage.getItem("userSendbackAfterLogin");if("string"==typeof e&&""!=e)return localStorage.removeItem("userSendbackAfterLogin"),window.postMessage(e,"*"),!0}catch(e){}var o=getCookie("userReloadAfterLogin");return"string"==typeof o&&"reload-after-login"==o&&(setCookie("userReloadAfterLogin","",.1,"/",user_get_cookie_domain(),"",!0),location.reload()),!1}function user_create_focus_listener(){window.addEventListener?(addEventListener("focus",user_focus_handle,!1),addEventListener("scroll",user_focus_handle,!1)):(attachEvent("focus",user_focus_handle),attachEvent("scroll",user_focus_handle))}function user_submit_account_info__flexible(n,i){if(i="string"==typeof i?i:"","object"!=typeof n)return""!=i&&"function"==typeof window[i]&&window[i]([!1,"Cập nhật thất bại",{}]),[!1,"Cập nhật thất bại",{}];if("function"!=typeof user_check_login_status||!user_check_login_status(!0))return"function"==typeof user_show_login_popup&&user_show_login_popup(),""!=i&&"function"==typeof window[i]&&window[i]([!1,"Chưa đăng nhập hệ thống 24H",{}]),[!1,"Chưa đăng nhập hệ thống 24H",{}];var e,o,t,s,_={txt_name:[void 0!==n.txt_name,0,255,"Họ và tên"],txt_email:[void 0!==n.txt_email,0,255,"Email"],txt_tel:[!1,0,20,"Số điện thoại"],txt_date_of_birth:[!1,0,20,"Ngày sinh"],txt_address:[!1,0,255,"Địa chỉ"],rad_sex:[!1,0,0,"Giới tính"]},a={},r=!1,u=0;for(e in _)void 0!==n[e]&&(++u,o=n[e],s="",!(t=_[e])[0]||void 0!==o&&""!=o?0<t[1]&&o.length<t[1]?s="Độ dài tối thiểu "+t[1]:0<t[2]&&o.length>t[2]&&(s="Độ dài tối đa "+t[2]):s="Vui lòng nhập thông tin "+t[3],""!=s&&(r=!0,a[e]=s));if(0==u)return""!=i&&"function"==typeof window[i]&&window[i]([!1,"Cập nhật thất bại",{}]),[!1,"Cập nhật thất bại",{}];if(r)return""!=i&&"function"==typeof window[i]&&window[i]([!1,"Cập nhật thất bại",a]),[!1,"Cập nhật thất bại",a];var l=user_get_submit_domain();$.ajax({url:l+"/ajax/user_api/act_update_account_info__flexible",type:"POST",data:n,success:function(e){var o={};if("object"==typeof e)o=e;else if("string"==typeof e)try{o=JSON.parse(e)}catch(e){}if(0==("object"==typeof o?Object.keys(o).length:0)||void 0===o.error)return console.log("user_submit_account_info__flexible","Lỗi không xác định",n),void(""!=i&&"function"==typeof window[i]&&window[i]([!1,"Cập nhật thất bại - Lỗi không xác định",{}]));var t="";void 0!==o.message&&""!=o.message?t=o.message:void 0!==o.code&&""!=o.code&&(t=o.code),1==o.error&&void 0!==o.code&&""!=o.code&&"not_logged_in"==o.code&&"function"==typeof user_show_login_popup&&user_show_login_popup(),""!=i&&"function"==typeof window[i]&&window[i]([1!=o.error,t,"object"==typeof o.key_errors?o.key_errors:{}])},error:function(e,o,t){console.log("user_submit_account_info__flexible","Lỗi ajax",n,e,o,t),""!=i&&"function"==typeof window[i]&&window[i]([!1,"Cập nhật thất bại - Lỗi không xác định",{}])}})}user_create_focus_listener();